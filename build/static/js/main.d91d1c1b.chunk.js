(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),s=n.n(r),i=(n(24),n(9)),o=n.n(i),u=n(12),j=n(4),l="http://micro-blogging-dot-full-stack-course-services.ew.r.appspot.com/tweet",d=(n(15),n(1));function b(){return Object(d.jsx)("div",{style:{display:"flex",zIndex:"100",height:"100vh",width:"100%",justifyContent:"center",alignItems:"center",background:"gray",opacity:"0.5",position:"fixed",top:"0",left:"0"},children:Object(d.jsx)("div",{style:{zIndex:"200"},className:"spinner-border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}n(27);var f=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),b=(i[0],i[1],function(){var t=Object(u.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={content:a,userName:e.userName,date:(new Date).toISOString()},t.prev=2,t.next=5,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:t.sent,e.onSubmitTweet(!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}());return Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("div",{className:"parentDiv",children:Object(d.jsxs)("form",{onSubmit:function(e){return b(e)},children:[Object(d.jsx)("textarea",{autoFocus:!0,value:a,onChange:function(e){return t=e.target.value,void r(t);var t},maxLength:"140",placeholder:"What you have in mind...",cols:"90",rows:"6.5"}),Object(d.jsx)("button",{className:"tweetBtn",disabled:140===a.length||0===a.length,children:"Tweet"})]})})})},h=(n(28),function(e){return Object(d.jsxs)("div",{className:"tweetItem",children:[Object(d.jsxs)("div",{className:"topOfItem",children:[Object(d.jsx)("div",{children:e.tweet.userName}),Object(d.jsxs)("div",{children:["tweeted at: ",e.tweet.date]})]}),Object(d.jsx)("div",{children:e.tweet.content})]})}),O=function(e){return Object(c.useEffect)((function(){}),[e.tweets]),Object(d.jsx)("div",{className:"container",children:e.tweets.map((function(e,t){return Object(d.jsx)(h,{tweet:e},t)}))})},x=n(11),p=n(2);function v(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Object(p.f)();return Object(c.useEffect)((function(){"/"===u.pathname.toLowerCase()?(a(!0),o(!1)):"/profile"===u.pathname.toLowerCase()&&(a(!1),o(!0))}),[u]),Object(d.jsxs)("div",{className:"nav-container",children:[Object(d.jsx)(x.b,{className:n?"nav-link-active":"nav-link",exact:!0,to:"/",children:"Home"}),Object(d.jsx)(x.b,{className:i?"nav-link-active":"nav-link",exact:!0,to:"/profile",children:"Profile"})]})}function m(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.createRef)(null);return Object(d.jsxs)("div",{style:{marginTop:"2rem",width:"600px",color:"white"},children:[Object(d.jsx)("h2",{style:{width:"100%"},children:"Profile"}),Object(d.jsx)("label",{htmlFor:"myInput",children:"User Name"}),Object(d.jsx)("input",{style:{color:"white",backgroundColor:"transparent",border:"1px solid white"},className:"form-control",ref:s,autoFocus:!0,type:"text",onChange:function(e){return t=e.target.value,void r(t);var t}}),Object(d.jsx)("div",{style:{marginTop:"10px",width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.upadteUsername(a),s.current.value="",r(""),void alert("user name has changed")},children:"Save"})})]})}var w=function(){var e=Object(c.useState)("Elad"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(j.a)(r,2),i=s[0],h=s[1],w=Object(c.useState)([]),g=Object(j.a)(w,2),y=g[0],N=g[1],S=Object(c.useState)(!1),k=Object(j.a)(S,2),C=k[0],F=k[1];Object(c.useEffect)((function(){I()}),[i]);var I=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,fetch(l);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,N(n.tweets),F(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function T(e){var t=i;t++,h(t)}function L(e){a(e)}return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)(x.a,{children:[Object(d.jsx)(v,{}),Object(d.jsxs)(p.c,{children:[Object(d.jsx)(p.a,{exact:!0,path:"/",render:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{userName:n,onSubmitTweet:T}),Object(d.jsx)(O,{tweets:y})]})}}),Object(d.jsx)(p.a,{path:"/profile",render:function(){return Object(d.jsx)(m,{upadteUsername:L})}})]})]}),C?Object(d.jsx)(b,{}):Object(d.jsx)(d.Fragment,{})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),g()}},[[37,1,2]]]);
//# sourceMappingURL=main.d91d1c1b.chunk.js.map